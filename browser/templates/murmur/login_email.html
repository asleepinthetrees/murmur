{% extends "group_container_base.html" %}

{% block customcss %}
<link rel="stylesheet" href="/static/css/mailbot/libs/codemirror.css">
<!-- <link rel="stylesheet" href="/static/css/mailbot/libs/fontawesome-all.min.css"> -->
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"> -->
<!-- Interactive console styles -->
<!-- <link rel="stylesheet" href="/static/css/mailbot/libs/sandbox.css" /> -->
{% endblock %}

{% block container-content %}
	
	<h3>Log in to your Email</span></h3>
	<hr>
	
	<form id="new-members-form">
		Program your inbox!<br><br>
		<label for="input-email">Email address: </label>
		<input id="input-email" type="email" style="box-sizing: border-box;"></input>
		<label for="input-password">Password: </label>
        <input id="input-password" type="password" style="box-sizing: border-box;"></input>
		<label for="input-host">Host (e.g. imap.xxx .. ): </label>
		<input id="input-host" type="text" style="box-sizing: border-box;"></input>
		<br><br>
		<div style="diplay:none;color:red;" id="donotsend-msg"></div>
		<button type="button" id="btn-login" style="margin-top:10px;">Log in</button>
	</form>
	<br>
	<div id="editor-container">
        <div id="status">
          Inbox engine status: 
          <div class="fa-3x">
            <span class="fa-layers fa-fw">
              <i class="fas fa-cog"></i>
              <span class="fa-layers-counter idle-mark" style="background:Tomato">IDLE</span>
            </span>
          </div>
          <button onclick="logout()">Log out</button>
          <!-- <span id="auth-msg"></span> -->
        </div>

            <div style="padding-top:  50px;">
              <div class="card">
                <div class="card-header">
                  <span>Email engine editor</span> <button class="btn btn-primary" style="float:right" id="submit" onclick="submitCommand()" disabled>Run</button>
                </div>
                <div class="card-block">
                  <textarea id="code" name="code">
def doAction(newEmail):
    if "free food" in newEmail.get_subjects()[0]:
        send("my_colleague@mit.edu", "Free food is here!", "\n".join(newEmail.get_subjects()))

onArrive(doAction)
                  </textarea>
                </div>
              </div>

              <div id="console" class="info">
                <p class="info">Output from the engine will be displayed here. Press a button "RUN" to start your engine.</p>
              </div>
            </div>
      </div>
	  <!-- END editor col -->
	  
	<!-- <a href="/groups/{{group_info.name}}">Back to group info page</a> -->
{% endblock %}

{% block customjs %}
	<script type="text/javascript" src="/static/javascript/notify.js"></script>

	<script type="text/javascript" src="/static/javascript/mailbot/bootstrap.bundle.min.js"></script>
	<script type="text/javascript" src="/static/javascript/mailbot/fontawesome-all.min.js"></script>
	<script type="text/javascript" src="/static/javascript/mailbot/codemirror.js"></script>
	<script type="text/javascript" src="/static/javascript/mailbot/addon/edit/matchbrackets.js"></script>
	<script type="text/javascript" src="/static/javascript/mailbot/python.js"></script>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.min.js"></script>
	
	<!-- Underscore, Backbone, backbone-localStorage, jQuery -->
	<script type="text/javascript" src="/static/javascript/mailbot/console/underscore.min.js"></script>
	<script type="text/javascript" src="/static/javascript/mailbot/console/backbone.min.js"></script>
	<script type="text/javascript" src="/static/javascript/mailbot/console/backbone-localStorage.min.js"></script>
	
	<!-- Some extras for the demo: -->
	<script type="text/javascript" src="/static/javascript/mailbot/console/lettering.js"></script>
	<script type="text/javascript" src="/static/javascript/mailbot/console/prettify.js"></script>
	<script type="text/javascript" src="/static/javascript/mailbot/console/DAT.GUI.min.js"></script>
	
	<!-- The JS Sandbox Console script (requires underscore, backbone and jquery): -->
	<script type="text/javascript" src="/static/javascript/mailbot/console/sandbox-console.js"></script>

	<script type="text/javascript" src="/static/javascript/murmur/login_imap.js"></script>
{% endblock %}